# AI-Trader æœ€ä¼˜å†³ç­–é¢‘ç‡è®¾è®¡

æœ¬æ–‡æ¡£æ·±å…¥åˆ†æ"ä¸€å¤©åªå†³ç­–ä¸€æ¬¡"çš„å±€é™æ€§ï¼Œå¹¶æå‡ºæ›´åˆç†çš„å¤šæ—¶æ®µå†³ç­–æ–¹æ¡ˆã€‚

---

## ğŸš¨ é—®é¢˜åˆ†æï¼šå•æ¬¡å†³ç­–çš„å±€é™æ€§

### å½“å‰æ¨¡å¼çš„æ ¸å¿ƒé—®é¢˜

**ç°çŠ¶**ï¼šæ¯å¤©åªåœ¨è™šæ‹Ÿçš„"10:00"æ‰§è¡Œ1æ¬¡å†³ç­–ä¼šè¯

```
09:30 - å¼€ç›˜
   â†“
10:00 - AIå†³ç­–ï¼ˆå”¯ä¸€çš„å†³ç­–æ—¶ç‚¹ï¼‰
   â”œâ”€ åŸºäºå¼€ç›˜ä»·åšæ‰€æœ‰å†³ç­–
   â”œâ”€ ä¸€æ¬¡æ€§å®Œæˆä¹°å…¥/å–å‡º
   â””â”€ è¾“å‡º <FINISH_SIGNAL>
   â†“
10:00-16:00 - å¸‚åœºæ³¢åŠ¨ï¼ˆAIæ— æ³•å“åº”ï¼‰
   â”œâ”€ 11:00: NVDAæ¶¨äº†5%  âŒ æ— æ³•æ­¢ç›ˆ
   â”œâ”€ 13:00: é‡å¤§æ–°é—»å‘å¸ƒ  âŒ æ— æ³•è°ƒæ•´
   â”œâ”€ 15:00: å°¾ç›˜è·³æ°´     âŒ æ— æ³•æ­¢æŸ
   â””â”€ AIå¤„äº"ç›²åŒº"çŠ¶æ€
   â†“
16:00 - æ”¶ç›˜ï¼ˆç­‰å¾…æ˜å¤©ï¼‰
```

---

### 6å¤§æ ¸å¿ƒé—®é¢˜

#### é—®é¢˜1ï¼šé”™è¿‡ç›˜ä¸­æœºä¼š âš ï¸âš ï¸âš ï¸

**åœºæ™¯**ï¼š
```
10:00 - AIä¹°å…¥ NVDA @ $140
11:30 - NVDA æ¶¨åˆ° $154ï¼ˆæ¶¨å¹…10%ï¼‰
        â†“
        AIæ— æ³•æ„ŸçŸ¥ï¼Œæ— æ³•æ­¢ç›ˆ
        â†“
15:30 - NVDA å›è½åˆ° $142
        â†“
        é”™è¿‡æœ€ä½³å–ç‚¹ï¼Œåˆ©æ¶¦ä»10%ç¼©æ°´åˆ°1.4%
```

**çœŸå®æ•°æ®éªŒè¯**ï¼š
```python
# ä»å›æµ‹æ•°æ®çœ‹åˆ°çš„æ¨¡å¼
2025-10-22:
  - 10:00 ä¹°å…¥2åªï¼Œå–å‡º3åª
  - ä½†å¦‚æœæœ‰14:00çš„å†³ç­–ï¼Œå¯èƒ½ä¼šæœ‰ä¸åŒçš„æ“ä½œ

2025-10-23:
  - 10:00 ä¹°å…¥3åªï¼Œå–å‡º1åª
  - ç›˜ä¸­å¯èƒ½æœ‰æ›´å¥½çš„ä¹°å…¥æ—¶æœº
```

---

#### é—®é¢˜2ï¼šæ— æ³•åŠæ—¶æ­¢æŸ âš ï¸âš ï¸âš ï¸âš ï¸âš ï¸

**åœºæ™¯**ï¼š
```
10:00 - AIæŒæœ‰ TSLA 100è‚¡ @ $250
12:00 - çªå‘è´Ÿé¢æ–°é—»ï¼ŒTSLAè·Œè‡³ $225ï¼ˆ-10%ï¼‰
        â†“
        AIæ— æ³•å“åº”ï¼Œåªèƒ½çœ¼çœ‹äºæŸæ‰©å¤§
        â†“
15:00 - TSLAç»§ç»­è·Œè‡³ $210ï¼ˆ-16%ï¼‰
        â†“
æ¬¡æ—¥10:00 - AIæ‰èƒ½å†³ç­–ï¼ˆå·²æŸå¤±16%ï¼‰
```

**é£é™©**ï¼š
- å•æ—¥æœ€å¤§å›æ’¤å¯èƒ½è¶…è¿‡20%
- é»‘å¤©é¹…äº‹ä»¶æ— æ³•åº”å¯¹
- éš”å¤œé£é™©æ— æ³•æ§åˆ¶

---

#### é—®é¢˜3ï¼šä»·æ ¼åŸºå‡†å¤±çœŸ âš ï¸âš ï¸

**é—®é¢˜**ï¼šæ‰€æœ‰äº¤æ˜“éƒ½ç”¨å¼€ç›˜ä»·ï¼Œä½†ï¼š

```
å¼€ç›˜ä»· vs å®é™…æˆäº¤ä»·çš„åå·®ï¼š

NVDA 2025-10-15:
  - å¼€ç›˜: $140.00  â† AIå†³ç­–åŸºå‡†
  - 10:30å‡ä»·: $142.50  â† å®é™…èƒ½ä¹°åˆ°çš„ä»·æ ¼
  - æ”¶ç›˜: $145.00
  - åå·®: +3.6%ï¼ˆä¸¥é‡å½±å“æ”¶ç›Šè®¡ç®—ï¼‰

å¦‚æœ10:00å†³ç­–ï¼Œä½†å¸‚åœºå·²ç»æ¶¨äº†2%ï¼Œ
AIåŸºäºè¿‡æ—¶ä»·æ ¼åšçš„å†³ç­–å¯èƒ½ä¸åˆç†
```

---

#### é—®é¢˜4ï¼šå¿½ç•¥ç›˜ä¸­è¶‹åŠ¿ âš ï¸âš ï¸

**åœºæ™¯**ï¼š
```
09:30-10:00 æ—©ç›˜
  - å¸‚åœºæ•´ä½“ä¸Šæ¶¨1%
  - AIåœ¨10:00åŸºäºå¼€ç›˜ä»·å†³ç­–ï¼ˆåä¹è§‚ï¼‰

10:00-12:00 åˆç›˜
  - å¸‚åœºåè½¬ä¸‹è·Œ3%
  - AIæ— æ³•è°ƒæ•´ï¼Œç»§ç»­æŒæœ‰

12:00-16:00 å°¾ç›˜
  - å¸‚åœºç»§ç»­ä¸‹è·Œ2%
  - AIä»ç„¶æ— æ³•å“åº”

ç»“æœï¼šAIçš„å†³ç­–åŸºäºæ—©ç›˜è¶‹åŠ¿ï¼Œé”™å¤±åˆç›˜å’Œå°¾ç›˜çš„ä¿¡å·
```

---

#### é—®é¢˜5ï¼šæ— æ³•åº”å¯¹çªå‘äº‹ä»¶ âš ï¸âš ï¸âš ï¸âš ï¸

**åœºæ™¯æ¡ˆä¾‹**ï¼š

| æ—¶é—´ | äº‹ä»¶ | AIæ˜¯å¦å“åº” | åˆç†æ“ä½œ | å®é™…æ“ä½œ |
|------|------|-----------|---------|---------|
| 11:00 | Appleå‘å¸ƒè¶…é¢„æœŸè´¢æŠ¥ | âŒ | ç«‹å³ä¹°å…¥AAPL | ç­‰åˆ°æ˜å¤© |
| 13:00 | Fedçªç„¶é™æ¯50bp | âŒ | å¢åŠ ç§‘æŠ€è‚¡ä»“ä½ | ç­‰åˆ°æ˜å¤© |
| 14:30 | NVDAå®£å¸ƒé‡å¤§å¹¶è´­ | âŒ | è¯„ä¼°å½±å“å¹¶è°ƒä»“ | ç­‰åˆ°æ˜å¤© |
| 15:45 | å°¾ç›˜å¼‚å¸¸æ”¾é‡ | âŒ | æ­¢ç›ˆ/æ­¢æŸ | ç­‰åˆ°æ˜å¤© |

**åæœ**ï¼š
- é”™è¿‡æœ€ä½³è¿›åœºæ—¶æœºï¼ˆè´¢æŠ¥å30åˆ†é’Ÿæ¶¨å¹…æœ€å¤§ï¼‰
- é”™è¿‡é¿é™©æœºä¼šï¼ˆæ”¿ç­–å‘å¸ƒåæ³¢åŠ¨æœ€å‰§çƒˆï¼‰
- éš”å¤œé£é™©å¢åŠ 

---

#### é—®é¢˜6ï¼šç­–ç•¥å•ä¸€åŒ– âš ï¸âš ï¸

**ç°çŠ¶**ï¼š
```
AIåªèƒ½æ‰§è¡Œ"ä¸€æ¬¡æ€§å»ºä»“/è°ƒä»“"ç­–ç•¥

æ— æ³•å®ç°ï¼š
  âŒ åˆ†æ‰¹å»ºä»“ï¼ˆæ—©ç›˜1/3ï¼Œåˆç›˜1/3ï¼Œå°¾ç›˜1/3ï¼‰
  âŒ åŠ¨æ€æ­¢ç›ˆï¼ˆæ¶¨5%å–1/2ï¼Œæ¶¨10%å…¨å–ï¼‰
  âŒ è¿½è¸ªæ­¢æŸï¼ˆä»æœ€é«˜ç‚¹å›è½3%æ—¶å–å‡ºï¼‰
  âŒ ç½‘æ ¼äº¤æ˜“ï¼ˆåœ¨ä»·æ ¼åŒºé—´å†…å¤šæ¬¡ä¹°å–ï¼‰
```

---

## ğŸ“Š æ•°æ®æ”¯æ’‘ï¼šå›æµ‹è¡Œä¸ºåˆ†æ

### çœŸå®æ•°æ®ç»Ÿè®¡

```python
# åˆ†æ claude-3.7-sonnet çš„17ä¸ªäº¤æ˜“æ—¥

æ€»äº¤æ˜“æ—¥: 17å¤©
æœ‰å–å‡ºçš„å¤©æ•°: 15å¤©ï¼ˆ88.2%ï¼‰
åªä¹°ä¸å–çš„å¤©æ•°: 2å¤©ï¼ˆ11.8%ï¼‰

å¹³å‡æ¯å¤©æ“ä½œ:
  - ä¹°å…¥: 1.8æ¬¡
  - å–å‡º: 1.2æ¬¡
  - æ€»æ“ä½œ: 3.0æ¬¡

ç»“è®ºï¼š
âœ… AIå‡ ä¹æ¯å¤©éƒ½åœ¨è°ƒä»“ï¼ˆ88%æœ‰å–å‡ºï¼‰
âœ… è¯´æ˜ç­–ç•¥æ˜¯åŠ¨æ€çš„ï¼Œä¸æ˜¯ä¹°å…¥æŒæœ‰
âš ï¸ ä½†æ‰€æœ‰æ“ä½œéƒ½é›†ä¸­åœ¨"10:00"è¿™ä¸€ä¸ªæ—¶ç‚¹
```

### æ“ä½œç±»å‹åˆ†å¸ƒ

```
2025-10-22 (å…¸å‹äº¤æ˜“æ—¥):
  10:00 æ‰§è¡Œ:
    - buy("AMZN", 1)
    - buy("PEP", 2)
    - sell("MSFT", 3)
    - sell("AAPL", 5)
    - sell("NVDA", 10)

  é—®é¢˜ï¼š
  â“ å¦‚æœNVDAåœ¨13:00åˆæ¶¨äº†8%ï¼ŒAIèƒ½å†å–å—ï¼Ÿ â†’ ä¸èƒ½
  â“ å¦‚æœAAPLåœ¨15:00è·Œç ´æ”¯æ’‘ï¼ŒAIèƒ½è¡¥ä»“å—ï¼Ÿ â†’ ä¸èƒ½
  â“ å¦‚æœå°¾ç›˜æ•´ä½“è·³æ°´ï¼ŒAIèƒ½æ¸…ä»“å—ï¼Ÿ â†’ ä¸èƒ½
```

---

## âœ… è§£å†³æ–¹æ¡ˆï¼šå¤šæ—¶æ®µå†³ç­–æ¡†æ¶

### æ–¹æ¡ˆæ¦‚è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å¤šæ—¶æ®µå†³ç­–æ¨¡å¼ï¼ˆæ¨èï¼‰                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç¾ä¸œæ—¶é—´äº¤æ˜“æ—¥ç¨‹ï¼š

09:30 â”â”â”â”â” å¼€ç›˜
   â†“
10:00 â”â”â”â”â” å†³ç­–æ—¶æ®µ1ï¼šæ—©ç›˜åˆ†æ â­â­â­
   â”œâ”€ ç›®æ ‡ï¼šåŸºäºå¼€ç›˜è¶‹åŠ¿å»ºä»“
   â”œâ”€ é‡ç‚¹ï¼šåˆ†æéš”å¤œæ¶ˆæ¯ã€ç›˜å‰å¼‚åŠ¨
   â””â”€ æ“ä½œï¼šå»ºç«‹æ ¸å¿ƒä»“ä½ï¼ˆ50-70%èµ„é‡‘ï¼‰
   â†“
12:00 â”â”â”â”â” å†³ç­–æ—¶æ®µ2ï¼šåˆç›˜è°ƒæ•´ â­â­
   â”œâ”€ ç›®æ ‡ï¼šæ ¹æ®ä¸Šåˆèµ°åŠ¿è°ƒä»“
   â”œâ”€ é‡ç‚¹ï¼šè¯„ä¼°æ—©ç›˜å†³ç­–æ•ˆæœ
   â””â”€ æ“ä½œï¼šæ­¢ç›ˆ/æ­¢æŸï¼Œè¡¥ä»“/å‡ä»“ï¼ˆ20-30%èµ„é‡‘ï¼‰
   â†“
14:00 â”â”â”â”â” å†³ç­–æ—¶æ®µ3ï¼šä¸‹åˆå¤ç›˜ï¼ˆå¯é€‰ï¼‰â­
   â”œâ”€ ç›®æ ‡ï¼šåº”å¯¹åˆé—´æ–°é—»å’Œè¶‹åŠ¿å˜åŒ–
   â”œâ”€ é‡ç‚¹ï¼šæ£€æŸ¥æ˜¯å¦æœ‰çªå‘äº‹ä»¶
   â””â”€ æ“ä½œï¼šå¾®è°ƒä»“ä½ï¼ˆ10-20%èµ„é‡‘ï¼‰
   â†“
15:30 â”â”â”â”â” å†³ç­–æ—¶æ®µ4ï¼šå°¾ç›˜å†³ç­– â­â­â­â­
   â”œâ”€ ç›®æ ‡ï¼šæ§åˆ¶éš”å¤œé£é™©
   â”œâ”€ é‡ç‚¹ï¼šå†³å®šæŒä»“è¿‡å¤œæ¯”ä¾‹
   â””â”€ æ“ä½œï¼šæ­¢ç›ˆ/æ­¢æŸï¼Œé”å®šåˆ©æ¶¦
   â†“
16:00 â”â”â”â”â” æ”¶ç›˜
```

---

### æ–¹æ¡ˆAï¼šåŒæ—¶æ®µæ¨¡å¼ï¼ˆæ¨èåˆæœŸï¼‰

**é…ç½®**ï¼š
```json
{
  "schedule": {
    "sessions": [
      {
        "time": "10:00",
        "name": "morning",
        "strategy": "initial_position",
        "max_portfolio_change": 0.7  // æœ€å¤šç”¨70%èµ„é‡‘
      },
      {
        "time": "15:30",
        "name": "closing",
        "strategy": "risk_control",
        "max_portfolio_change": 0.5  // æœ€å¤šè°ƒæ•´50%ä»“ä½
      }
    ]
  }
}
```

**æ‰§è¡Œæµç¨‹**ï¼š
```python
# 10:00 æ—©ç›˜ä¼šè¯
ç³»ç»Ÿæç¤ºè¯ï¼ˆç‰¹å®šåŒ–ï¼‰:
"""
Current time: 10:00 AM (Market just opened)
Your task: INITIAL POSITIONING
- Analyze overnight news and pre-market moves
- Build core positions (50-70% of cash)
- Focus on high-conviction stocks
- You will have another chance at 15:30 to adjust
"""

Agentæ“ä½œ:
  - buy("NVDA", 10) @ $140
  - buy("AAPL", 5) @ $180
  - ä½¿ç”¨èµ„é‡‘: $2,300 / $10,000 (23%)

---

# 15:30 å°¾ç›˜ä¼šè¯
ç³»ç»Ÿæç¤ºè¯ï¼ˆç‰¹å®šåŒ–ï¼‰:
"""
Current time: 15:30 PM (30 min before close)
Your task: RISK MANAGEMENT
- Review today's performance
- Current positions: NVDA +8%, AAPL -2%
- Decide overnight holdings
- Close weak positions, lock profits on strong ones
"""

Agentæ“ä½œ:
  - sell("NVDA", 5) @ $151 (æ­¢ç›ˆä¸€åŠï¼Œé”å®š$55åˆ©æ¶¦)
  - sell("AAPL", 5) @ $176 (æ­¢æŸå…¨éƒ¨ï¼ŒäºæŸ$20)
  - è°ƒæ•´åæŒä»“: NVDA 5è‚¡ï¼ŒCASH $8,455
```

**ä¼˜åŠ¿**ï¼š
- âœ… æ—©ç›˜å»ºä»“ï¼Œå°¾ç›˜è°ƒæ•´ï¼ˆç¬¦åˆäº¤æ˜“ä¹ æƒ¯ï¼‰
- âœ… æ§åˆ¶éš”å¤œé£é™©
- âœ… ä»£ç æ”¹åŠ¨å°ï¼ˆ~150è¡Œï¼‰
- âœ… APIæˆæœ¬å¯æ§ï¼ˆ2æ¬¡/å¤© Ã— $0.01 = $0.02/å¤©ï¼‰

---

### æ–¹æ¡ˆBï¼šä¸‰æ—¶æ®µæ¨¡å¼ï¼ˆæ¨èè¿›é˜¶ï¼‰

**æ—¶é—´ç‚¹**ï¼š
```
10:00 - æ—©ç›˜å»ºä»“ï¼ˆ50-60%èµ„é‡‘ï¼‰
12:00 - åˆç›˜è°ƒæ•´ï¼ˆ20-30%èµ„é‡‘ï¼‰
15:30 - å°¾ç›˜é£æ§ï¼ˆè°ƒæ•´50%ä»“ä½ï¼‰
```

**å·®å¼‚åŒ–æç¤ºè¯**ï¼š
```python
# prompts/session_prompts.py

MORNING_PROMPT = """
Session: MORNING (10:00 AM)
Objective: Initial positioning
Available cash: {cash}
Suggested allocation: 50-60% of total capital
Focus: High-conviction long-term plays
Risk: Moderate (you can adjust later)
"""

MIDDAY_PROMPT = """
Session: MIDDAY (12:00 PM)
Objective: Tactical adjustment
Morning positions: {morning_positions}
Morning P&L: {morning_pnl}
Suggested allocation: 20-30% additional capital
Focus: Capture mid-day momentum or correct mistakes
Risk: Low to Moderate
"""

CLOSING_PROMPT = """
Session: CLOSING (15:30 PM)
Objective: Risk control before close
Full day positions: {all_positions}
Full day P&L: {total_pnl}
Suggested action: Reduce overnight exposure
Focus: Lock profits, cut losses, manage overnight risk
Risk: Conservative (market closing soon)
"""
```

**ä¼˜åŠ¿**ï¼š
- âœ… æ›´çµæ´»çš„ä»“ä½ç®¡ç†
- âœ… æ•æ‰ç›˜ä¸­æœºä¼š
- âœ… æ¯ä¸ªæ—¶æ®µæœ‰æ˜ç¡®ç›®æ ‡
- âœ… é™ä½å•æ¬¡å†³ç­–å‹åŠ›

**æˆæœ¬**ï¼š
- API: 3æ¬¡/å¤© Ã— $0.01 = $0.03/å¤©
- å¯æ¥å—èŒƒå›´

---

### æ–¹æ¡ˆCï¼šå››æ—¶æ®µæ¨¡å¼ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰

**å®Œæ•´é…ç½®**ï¼š
```json
{
  "schedule": {
    "sessions": [
      {
        "time": "10:00",
        "name": "morning_open",
        "max_cash_usage": 0.60,
        "min_cash_reserve": 0.40
      },
      {
        "time": "12:00",
        "name": "midday_adjust",
        "max_cash_usage": 0.30,
        "min_cash_reserve": 0.20
      },
      {
        "time": "14:00",
        "name": "afternoon_check",
        "max_cash_usage": 0.15,
        "min_cash_reserve": 0.10
      },
      {
        "time": "15:30",
        "name": "closing_risk",
        "force_max_overnight_exposure": 0.80
      }
    ]
  },
  "risk_limits": {
    "max_single_position": 0.20,  // å•åªè‚¡ç¥¨æœ€å¤š20%
    "max_daily_trades": 15,        // æ¯å¤©æœ€å¤š15ç¬”
    "max_total_exposure": 0.95     // æœ€å¤š95%ä»“ä½
  }
}
```

**ä¸€å¤©çš„å®Œæ•´æµç¨‹ç¤ºä¾‹**ï¼š
```
09:30 - å¼€ç›˜

10:00 - æ—©ç›˜ä¼šè¯ï¼ˆ6åˆ†é’Ÿï¼‰
  Agentåˆ†æéš”å¤œæ–°é—»
  â”œâ”€ buy("NVDA", 10) @ $140  â†’ ä»“ä½14%
  â”œâ”€ buy("AAPL", 8) @ $180   â†’ ä»“ä½14.4%
  â””â”€ ç°é‡‘ä½™é¢: $5,760 (57.6%)

12:00 - åˆç›˜ä¼šè¯ï¼ˆ4åˆ†é’Ÿï¼‰
  NVDAæ¶¨åˆ°$147 (+5%), AAPLè·Œåˆ°$178 (-1.1%)
  â”œâ”€ sell("NVDA", 5) @ $147  â†’ æ­¢ç›ˆä¸€åŠ
  â”œâ”€ buy("MSFT", 3) @ $420   â†’ æ–°å¢ä»“ä½12.6%
  â””â”€ ç°é‡‘ä½™é¢: $6,255 (62.5%)

14:00 - ä¸‹åˆä¼šè¯ï¼ˆ3åˆ†é’Ÿï¼‰
  Fedçªç„¶å®£å¸ƒåˆ©ç‡å†³è®®ï¼Œå¸‚åœºæ³¢åŠ¨
  â”œâ”€ æ£€æŸ¥æŒä»“é£é™©
  â”œâ”€ sell("AAPL", 3) @ $176  â†’ å‡å°‘äºæŸä»“ä½
  â””â”€ ç°é‡‘ä½™é¢: $6,783 (67.8%)

15:30 - å°¾ç›˜ä¼šè¯ï¼ˆ5åˆ†é’Ÿï¼‰
  è¯„ä¼°å…¨å¤©æ”¶ç›Šï¼Œå†³å®šéš”å¤œæŒä»“
  â”œâ”€ NVDA 5è‚¡: +$35 (+5%)
  â”œâ”€ AAPL 5è‚¡: -$20 (-2.8%)
  â”œâ”€ MSFT 3è‚¡: +$15 (+1.2%)
  å†³ç­–ï¼š
  â”œâ”€ sell("AAPL", 5) @ $176  â†’ æ­¢æŸæ¸…ä»“
  â”œâ”€ æŒæœ‰NVDAå’ŒMSFTè¿‡å¤œ
  â””â”€ éš”å¤œä»“ä½å æ¯”: 32% (ç¬¦åˆé£æ§)

16:00 - æ”¶ç›˜
  å…¨å¤©æ”¶ç›Š: +$30 (+0.3%)
  æŒä»“: NVDA 5è‚¡, MSFT 3è‚¡
  ç°é‡‘: $7,663
```

---

## ğŸ¯ æ¨èå®æ–½æ–¹æ¡ˆ

### é˜¶æ®µæ€§å‡çº§è·¯å¾„

#### ç¬¬1å‘¨ï¼šå•æ—¶æ®µï¼ˆå½“å‰ï¼‰
```
10:00 - å•æ¬¡å†³ç­–
æˆæœ¬: $0.01/å¤©
ç›®æ ‡: ç³»ç»ŸéªŒè¯
```

#### ç¬¬2-4å‘¨ï¼šåŒæ—¶æ®µ
```
10:00 - æ—©ç›˜å»ºä»“
15:30 - å°¾ç›˜é£æ§
æˆæœ¬: $0.02/å¤©
ç›®æ ‡: éªŒè¯å¤šæ—¶æ®µé€»è¾‘
```

#### ç¬¬5-8å‘¨ï¼šä¸‰æ—¶æ®µ
```
10:00 - æ—©ç›˜
12:00 - åˆç›˜
15:30 - å°¾ç›˜
æˆæœ¬: $0.03/å¤©
ç›®æ ‡: ä¼˜åŒ–ä»“ä½ç®¡ç†
```

#### ç¬¬9å‘¨+ï¼šå››æ—¶æ®µ
```
10:00, 12:00, 14:00, 15:30
æˆæœ¬: $0.04/å¤©
ç›®æ ‡: ç”Ÿäº§çº§è¿è¡Œ
```

---

## ğŸ“Š æ•ˆæœå¯¹æ¯”é¢„æµ‹

### å•æ—¶æ®µ vs å¤šæ—¶æ®µ

| æŒ‡æ ‡ | å•æ—¶æ®µ(10:00) | åŒæ—¶æ®µ(10:00+15:30) | ä¸‰æ—¶æ®µ | å››æ—¶æ®µ |
|------|--------------|-------------------|-------|-------|
| **æ­¢ç›ˆèƒ½åŠ›** | â­ å·® | â­â­â­ å¥½ | â­â­â­â­ å¾ˆå¥½ | â­â­â­â­â­ ä¼˜ç§€ |
| **æ­¢æŸé€Ÿåº¦** | â­ å»¶è¿Ÿ1å¤© | â­â­â­ å»¶è¿Ÿ5.5h | â­â­â­â­ å»¶è¿Ÿ3.5h | â­â­â­â­ å»¶è¿Ÿ1.5h |
| **éš”å¤œé£é™©** | â­ é«˜ï¼ˆæ— æ§åˆ¶ï¼‰ | â­â­â­â­ ä½ï¼ˆå°¾ç›˜å‡ä»“ï¼‰ | â­â­â­â­ ä½ | â­â­â­â­â­ å¾ˆä½ |
| **å®ç°å¤æ‚åº¦** | â­ ç®€å• | â­â­ è¾ƒç®€å• | â­â­â­ ä¸­ç­‰ | â­â­â­â­ å¤æ‚ |
| **APIæˆæœ¬** | $0.01/å¤© | $0.02/å¤© | $0.03/å¤© | $0.04/å¤© |
| **é¢„æœŸå¤æ™®** | 0.8-1.0 | 1.2-1.5 | 1.5-1.8 | 1.8-2.2 |
| **æœ€å¤§å›æ’¤** | -15% | -10% | -8% | -6% |

---

## ğŸ”§ å®ç°ä»£ç æ¡†æ¶

### å¤šæ—¶æ®µç³»ç»Ÿæç¤ºè¯ç”Ÿæˆ

```python
# prompts/session_prompts.py

def get_session_system_prompt(
    today_date: str,
    session_name: str,  # "morning", "midday", "afternoon", "closing"
    signature: str
) -> str:
    """ç”Ÿæˆç‰¹å®šæ—¶æ®µçš„ç³»ç»Ÿæç¤ºè¯"""

    # åŸºç¡€ä¿¡æ¯
    base_info = {
        "date": today_date,
        "positions": get_today_init_position(today_date, signature),
        "yesterday_close": get_yesterday_close_price(today_date),
        "today_price": get_current_price(today_date, session_name),  # å…³é”®ï¼šä¸åŒæ—¶æ®µç”¨ä¸åŒä»·æ ¼
    }

    # æ—¶æ®µç‰¹å®šæŒ‡ä»¤
    session_configs = {
        "morning": {
            "time": "10:00 AM",
            "objective": "Initial positioning based on overnight news",
            "cash_allocation": "50-60% of total capital",
            "risk_profile": "Moderate",
            "focus": "High-conviction long-term positions",
            "reminder": "You will have opportunities to adjust at 12:00 and 15:30"
        },
        "midday": {
            "time": "12:00 PM",
            "objective": "Tactical adjustment based on morning performance",
            "cash_allocation": "20-30% of remaining capital",
            "risk_profile": "Low to Moderate",
            "focus": "Momentum plays or error correction",
            "reminder": "Last major adjustment before closing session at 15:30"
        },
        "afternoon": {
            "time": "14:00 PM",
            "objective": "Review and fine-tune before close",
            "cash_allocation": "10-15% of remaining capital",
            "risk_profile": "Low",
            "focus": "React to afternoon news or trend changes",
            "reminder": "Final adjustment at 15:30 for overnight risk"
        },
        "closing": {
            "time": "15:30 PM",
            "objective": "Manage overnight risk",
            "cash_allocation": "Can adjust up to 50% of positions",
            "risk_profile": "Conservative",
            "focus": "Lock profits, cut losses, reduce exposure",
            "reminder": "Market closes in 30 minutes - be decisive"
        }
    }

    session_config = session_configs[session_name]

    # è®¡ç®—å½“å‰ä¼šè¯çš„ç›ˆäº
    session_pnl = calculate_session_pnl(today_date, session_name, signature)

    prompt = f"""
You are a stock trading assistant - {session_config['time']} Session

Today's date: {today_date}
Session: {session_name.upper()}
Objective: {session_config['objective']}

Current positions: {base_info['positions']}
Current prices: {base_info['today_price']}
Session P&L: {session_pnl}

Trading guidelines for this session:
- Cash allocation: {session_config['cash_allocation']}
- Risk profile: {session_config['risk_profile']}
- Focus: {session_config['focus']}
- Note: {session_config['reminder']}

When finished, output <FINISH_SIGNAL>
"""

    return prompt
```

### ä¸»æ§åˆ¶å¾ªç¯ä¿®æ”¹

```python
# main.py

async def run_live_trading_multi_session():
    """å¤šæ—¶æ®µæ¨¡æ‹Ÿç›˜äº¤æ˜“"""
    today = datetime.now(pytz.timezone('US/Eastern'))
    today_str = today.strftime("%Y-%m-%d")

    # å®šä¹‰ä¼šè¯æ—¶é—´è¡¨
    sessions = [
        {"time": "10:00", "name": "morning"},
        {"time": "12:00", "name": "midday"},
        {"time": "14:00", "name": "afternoon"},
        {"time": "15:30", "name": "closing"},
    ]

    for session in sessions:
        session_time = datetime.strptime(f"{today_str} {session['time']}", "%Y-%m-%d %H:%M")
        session_time = pytz.timezone('US/Eastern').localize(session_time)

        # ç­‰å¾…åˆ°ä¼šè¯æ—¶é—´
        wait_until(session_time)

        # è¿è¡Œè¯¥æ—¶æ®µçš„äº¤æ˜“ä¼šè¯
        print(f"ğŸ”” Starting {session['name']} session at {session['time']}")

        await agent.run_session(
            date=today_str,
            session_name=session['name']
        )

        print(f"âœ… {session['name']} session completed")

# ä½¿ç”¨Cronæ¯å¤©æ—©ä¸Š9:00å¯åŠ¨ï¼Œç„¶åå†…éƒ¨ç­‰å¾…å„ä¸ªæ—¶æ®µ
# 0 9 * * 1-5 cd /path && python main.py
```

---

## ğŸ’¡ å…³é”®è®¾è®¡åŸåˆ™

### 1. æ—¶æ®µå·®å¼‚åŒ–

æ¯ä¸ªæ—¶æ®µæœ‰ä¸åŒçš„ï¼š
- âœ… **ç›®æ ‡**ï¼šå»ºä»“ vs è°ƒæ•´ vs é£æ§
- âœ… **ä»·æ ¼**ï¼šå¼€ç›˜ä»· vs å®æ—¶ä»· vs æ”¶ç›˜å‰ä»·
- âœ… **èµ„é‡‘é™åˆ¶**ï¼š60% vs 30% vs 15%
- âœ… **é£é™©åå¥½**ï¼šæ¿€è¿› vs ä¸­æ€§ vs ä¿å®ˆ

### 2. èµ„é‡‘åˆ†é…æ§åˆ¶

```python
# é˜²æ­¢æ—©ç›˜all-in
MAX_CASH_USAGE = {
    "morning": 0.60,   # æœ€å¤š60%
    "midday": 0.30,    # é¢å¤–30%
    "afternoon": 0.15, # é¢å¤–15%
    "closing": 1.0     # å¯ä»¥è°ƒæ•´å…¨éƒ¨ä»“ä½
}
```

### 3. ä»“ä½è¿ç»­æ€§

```python
# æ¯ä¸ªæ—¶æ®µéƒ½èƒ½çœ‹åˆ°ä¸Šä¸€æ—¶æ®µçš„ç»“æœ
midday_positions = get_latest_position(today, signature)
# åŒ…å«morningæ—¶æ®µçš„æ‰€æœ‰äº¤æ˜“ç»“æœ
```

### 4. é™æµä¿æŠ¤

```python
# é˜²æ­¢å•æ—¥è¿‡åº¦äº¤æ˜“
MAX_TRADES_PER_SESSION = {
    "morning": 8,
    "midday": 5,
    "afternoon": 3,
    "closing": 5
}
# æ€»è®¡ï¼šæœ€å¤š21ç¬”/å¤©
```

---

## ğŸ¯ æ€»ç»“

### æ ¸å¿ƒè§‚ç‚¹

**é—®é¢˜**ï¼šä¸€å¤©åªåˆ†æä¸€æ¬¡ç¡®å®ä¸åˆç†

**åŸå› **ï¼š
1. âŒ é”™è¿‡ç›˜ä¸­æ­¢ç›ˆæœºä¼šï¼ˆNVDAæ¶¨10%æ— æ³•å–ï¼‰
2. âŒ æ— æ³•åŠæ—¶æ­¢æŸï¼ˆçªå‘è´Ÿé¢æ–°é—»æ— æ³•åº”å¯¹ï¼‰
3. âŒ ä»·æ ¼åŸºå‡†å¤±çœŸï¼ˆå…¨ç”¨å¼€ç›˜ä»·ï¼‰
4. âŒ å¿½ç•¥ç›˜ä¸­è¶‹åŠ¿ï¼ˆå¸‚åœºåè½¬æ— æ³•è°ƒæ•´ï¼‰
5. âŒ æ— æ³•åº”å¯¹çªå‘äº‹ä»¶ï¼ˆè´¢æŠ¥/æ”¿ç­–ï¼‰
6. âŒ ç­–ç•¥å•ä¸€åŒ–ï¼ˆæ— æ³•åˆ†æ‰¹å»ºä»“ï¼‰

**è§£å†³æ–¹æ¡ˆ**ï¼šå¤šæ—¶æ®µå†³ç­–

| æ–¹æ¡ˆ | æ—¶æ®µæ•° | æˆæœ¬ | æ¨èé˜¶æ®µ |
|------|-------|------|---------|
| åŒæ—¶æ®µ | 10:00 + 15:30 | $0.02/å¤© | åˆæœŸéªŒè¯ â­â­â­â­â­ |
| ä¸‰æ—¶æ®µ | +12:00 | $0.03/å¤© | è¿›é˜¶ä¼˜åŒ– â­â­â­â­ |
| å››æ—¶æ®µ | +14:00 | $0.04/å¤© | ç”Ÿäº§ç¯å¢ƒ â­â­â­ |

**ç«‹å³è¡ŒåŠ¨**ï¼š
- âœ… ç¬¬1æ­¥ï¼šå®ç°åŒæ—¶æ®µï¼ˆ10:00æ—©ç›˜ + 15:30å°¾ç›˜ï¼‰
- âœ… ä»£ç é‡ï¼š~200è¡Œ
- âœ… å·¥æœŸï¼š2-3å¤©
- âœ… æ•ˆæœï¼šå¤§å¹…æå‡é£æ§èƒ½åŠ›

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0
**æœ€åæ›´æ–°**: 2025-10-27
**ä½œè€…**: AI-Trader Team
