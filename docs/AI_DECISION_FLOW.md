# AI-Trader å†³ç­–æµç¨‹ä¸æç¤ºè¯è¯¦è§£

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜AIæ¨¡å‹åœ¨AI-Traderç³»ç»Ÿä¸­çš„å®Œæ•´å†³ç­–æµç¨‹ï¼Œä»¥åŠå¦‚ä½•é€šè¿‡æç¤ºè¯å’ŒMCPå·¥å…·å®ç°è‡ªä¸»äº¤æ˜“ã€‚

---

## ğŸ“‹ ç›®å½•

1. [æ•´ä½“æ¶æ„æµç¨‹](#æ•´ä½“æ¶æ„æµç¨‹)
2. [ç³»ç»Ÿæç¤ºè¯æœºåˆ¶](#ç³»ç»Ÿæç¤ºè¯æœºåˆ¶)
3. [MCPå·¥å…·è°ƒç”¨æµç¨‹](#mcpå·¥å…·è°ƒç”¨æµç¨‹)
4. [å•æ—¥äº¤æ˜“ä¼šè¯æµç¨‹](#å•æ—¥äº¤æ˜“ä¼šè¯æµç¨‹)
5. [å®Œæ•´å†³ç­–ç¤ºä¾‹](#å®Œæ•´å†³ç­–ç¤ºä¾‹)

---

## ğŸ—ï¸ æ•´ä½“æ¶æ„æµç¨‹

### æµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. ä¸»ç¨‹åºå¯åŠ¨ (main.py)                                         â”‚
â”‚    - åŠ è½½é…ç½®æ–‡ä»¶ configs/default_config.json                    â”‚
â”‚    - éå†æ‰€æœ‰å¯ç”¨çš„æ¨¡å‹ (models[].enabled = true)               â”‚
â”‚    - ä¸ºæ¯ä¸ªæ¨¡å‹åˆ›å»ºç‹¬ç«‹çš„BaseAgentå®ä¾‹                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. Agentåˆå§‹åŒ– (BaseAgent.__init__)                             â”‚
â”‚    - è¿æ¥åˆ°4ä¸ªMCPæœåŠ¡ (ç«¯å£19000-19003)                         â”‚
â”‚    - åˆ›å»ºLangChain agent with ChatOpenAI                        â”‚
â”‚    - åˆå§‹åŒ–æ¨¡å‹å‚æ•° (max_steps=30, max_retries=3)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. æ—¥æœŸå¾ªç¯ (BaseAgent.run_for_dates())                         â”‚
â”‚    - è®¡ç®—äº¤æ˜“æ—¥æœŸèŒƒå›´ (ä»position.jsonlæœ€åæ—¥æœŸåˆ°end_date)       â”‚
â”‚    - è¿‡æ»¤æ‰å‘¨æœ«ï¼Œåªå¤„ç†äº¤æ˜“æ—¥                                    â”‚
â”‚    - æŒ‰æ—¥æœŸé¡ºåºé€æ—¥æ‰§è¡Œäº¤æ˜“ä¼šè¯                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. æ¯æ—¥äº¤æ˜“ä¼šè¯ (BaseAgent.run_trading_session())               â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚    â”‚ 4.1 ç”Ÿæˆç³»ç»Ÿæç¤ºè¯ (get_agent_system_prompt())           â”‚â”‚
â”‚    â”‚     - æ³¨å…¥ä»Šæ—¥æ—¥æœŸ                                        â”‚â”‚
â”‚    â”‚     - æ³¨å…¥æ˜¨æ—¥æŒä»“                                        â”‚â”‚
â”‚    â”‚     - æ³¨å…¥æ˜¨æ—¥æ”¶ç›˜ä»·                                      â”‚â”‚
â”‚    â”‚     - æ³¨å…¥ä»Šæ—¥å¼€ç›˜ä»·                                      â”‚â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚    â”‚ 4.2 å‘é€åˆå§‹ç”¨æˆ·æŸ¥è¯¢                                     â”‚â”‚
â”‚    â”‚     "Please analyze and update today's positions."       â”‚â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚    â”‚ 4.3 Agentå†³ç­–å¾ªç¯ (æœ€å¤š30æ­¥)                             â”‚â”‚
â”‚    â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚â”‚
â”‚    â”‚     â”‚ a) Agentæ€è€ƒå¹¶è°ƒç”¨å·¥å…·                      â”‚      â”‚â”‚
â”‚    â”‚     â”‚    - å¯èƒ½è°ƒç”¨å¤šä¸ªå·¥å…·è·å–ä¿¡æ¯               â”‚      â”‚â”‚
â”‚    â”‚     â”‚    - å·¥å…·è¿”å›ç»“æœ                           â”‚      â”‚â”‚
â”‚    â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚â”‚
â”‚    â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚â”‚
â”‚    â”‚     â”‚ b) å°†å·¥å…·ç»“æœåé¦ˆç»™Agent                    â”‚      â”‚â”‚
â”‚    â”‚     â”‚    - æ ¼å¼: "Tool results: {ç»“æœå†…å®¹}"       â”‚      â”‚â”‚
â”‚    â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚â”‚
â”‚    â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚â”‚
â”‚    â”‚     â”‚ c) Agentç»§ç»­æ€è€ƒæˆ–è¾“å‡ºåœæ­¢ä¿¡å·              â”‚      â”‚â”‚
â”‚    â”‚     â”‚    - å¦‚æœè¾“å‡º <FINISH_SIGNAL> åˆ™ç»“æŸ        â”‚      â”‚â”‚
â”‚    â”‚     â”‚    - å¦åˆ™ç»§ç»­ä¸‹ä¸€è½®å·¥å…·è°ƒç”¨                 â”‚      â”‚â”‚
â”‚    â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚    â”‚ 4.4 è®°å½•æ—¥å¿—                                             â”‚â”‚
â”‚    â”‚     - è·¯å¾„: data/agent_data/{signature}/log/{date}/     â”‚â”‚
â”‚    â”‚     - æ ¼å¼: log.jsonl (æ¯æ¡æ¶ˆæ¯ä¸€è¡ŒJSON)                 â”‚â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ ç³»ç»Ÿæç¤ºè¯æœºåˆ¶

### æç¤ºè¯æ¨¡æ¿

ç³»ç»Ÿæç¤ºè¯å®šä¹‰åœ¨ `prompts/agent_prompt.py:32-66`ï¼Œæ¯å¤©åŠ¨æ€ç”Ÿæˆã€‚

#### å®Œæ•´æç¤ºè¯å†…å®¹

```python
agent_system_prompt = """
You are a stock fundamental analysis trading assistant.

Your goals are:
- Think and reason by calling available tools.
- You need to think about the prices of various stocks and their returns.
- Your long-term goal is to maximize returns through this portfolio.
- Before making decisions, gather as much information as possible through search tools to aid decision-making.

Thinking standards:
- Clearly show key intermediate steps:
  - Read input of yesterday's positions and today's prices
  - Update valuation and adjust weights for each target (if strategy requires)

Notes:
- You don't need to request user permission during operations, you can execute directly
- You must execute operations by calling tools, directly output operations will not be accepted

Here is the information you need:

Today's date:
{date}

Yesterday's closing positions (numbers after stock codes represent how many shares you hold, numbers after CASH represent your available cash):
{positions}

Yesterday's closing prices:
{yesterday_close_price}

Today's buying prices:
{today_buy_price}

When you think your task is complete, output
{STOP_SIGNAL}
"""
```

### æç¤ºè¯å‚æ•°åŠ¨æ€æ³¨å…¥

**å‡½æ•°**: `get_agent_system_prompt(today_date: str, signature: str)` (agent_prompt.py:68-83)

**æ³¨å…¥çš„åŠ¨æ€å‚æ•°**:

| å‚æ•° | æ¥æºå‡½æ•° | è¯´æ˜ | ç¤ºä¾‹ |
|------|---------|------|------|
| `{date}` | ç›´æ¥ä¼ å…¥ | ä»Šå¤©çš„äº¤æ˜“æ—¥æœŸ | `"2025-10-15"` |
| `{positions}` | `get_today_init_position()` | æ˜¨æ—¥æ”¶ç›˜æ—¶çš„æŒä»“çŠ¶æ€ | `{"AAPL": 10, "MSFT": 5, "CASH": 8500.0, ...}` |
| `{yesterday_close_price}` | `get_yesterday_open_and_close_price()` | æ˜¨æ—¥å„è‚¡ç¥¨çš„æ”¶ç›˜ä»· | `{"AAPL_price": 180.5, "MSFT_price": 420.3, ...}` |
| `{today_buy_price}` | `get_open_prices()` | ä»Šæ—¥å„è‚¡ç¥¨çš„å¼€ç›˜ä»·ï¼ˆä¹°å…¥ä»·ï¼‰ | `{"AAPL_price": 182.0, "MSFT_price": 422.5, ...}` |
| `{STOP_SIGNAL}` | å¸¸é‡ | åœæ­¢ä¿¡å·å­—ç¬¦ä¸² | `"<FINISH_SIGNAL>"` |

### æç¤ºè¯ç”Ÿæˆæ—¶æœº

**è°ƒç”¨ä½ç½®**: `base_agent.py:206-210`

```python
async def run_trading_session(self, today_date: str) -> None:
    # æ¯å¤©å¼€å§‹äº¤æ˜“å‰é‡æ–°ç”Ÿæˆç³»ç»Ÿæç¤ºè¯
    self.agent = create_agent(
        self.model,
        tools=self.tools,
        system_prompt=get_agent_system_prompt(today_date, self.signature),
    )
```

**å…³é”®ç‰¹æ€§**:
- âœ… **æ¯æ—¥é‡æ–°ç”Ÿæˆ** - ç¡®ä¿æ—¥æœŸå’Œä»·æ ¼æ•°æ®å§‹ç»ˆæ˜¯å½“å¤©çš„
- âœ… **æ—¶é—´éš”ç¦»** - Agentä¸è®°å¾—æ˜¨å¤©çš„å¯¹è¯ï¼ŒåªåŸºäºç³»ç»Ÿæç¤ºè¯ä¸­çš„ä¿¡æ¯
- âœ… **é˜²æ­¢æœªæ¥ä¿¡æ¯æ³„éœ²** - æ‰€æœ‰ä»·æ ¼æ•°æ®éƒ½æˆªæ­¢åˆ°å½“å‰äº¤æ˜“æ—¥

---

## ğŸ› ï¸ MCPå·¥å…·è°ƒç”¨æµç¨‹

### å¯ç”¨å·¥å…·åˆ—è¡¨

AI Agentå¯ä»¥è°ƒç”¨ä»¥ä¸‹6ä¸ªMCPå·¥å…·ï¼š

| å·¥å…·åç§° | æœåŠ¡ | ç«¯å£ | åŠŸèƒ½æè¿° | æ–‡ä»¶ä½ç½® |
|---------|------|------|---------|---------|
| `get_price_local` | GetPrice | 19003 | æŸ¥è¯¢æœ¬åœ°ä»·æ ¼æ•°æ®åº“ä¸­çš„å†å²ä»·æ ¼ | `tool_get_price_local.py` |
| `get_information` | Search | 19001 | ä½¿ç”¨Jina AIæœç´¢äº’è”ç½‘ä¿¡æ¯ | `tool_jina_search.py` |
| `add` | Math | 19000 | è®¡ç®—åŠ æ³• | `tool_math.py` |
| `multiply` | Math | 19000 | è®¡ç®—ä¹˜æ³• | `tool_math.py` |
| `buy` | Trade | 19002 | æ‰§è¡Œä¹°å…¥æ“ä½œ | `tool_trade.py` |
| `sell` | Trade | 19002 | æ‰§è¡Œå–å‡ºæ“ä½œ | `tool_trade.py` |

### å·¥å…·è¯¦ç»†è¯´æ˜

#### 1. `get_price_local(symbol: str, date: str)`

**åŠŸèƒ½**: æŸ¥è¯¢æŒ‡å®šè‚¡ç¥¨åœ¨æŒ‡å®šæ—¥æœŸçš„ä»·æ ¼æ•°æ®

**å‚æ•°**:
- `symbol`: è‚¡ç¥¨ä»£ç ï¼Œå¦‚ `"AAPL"`
- `date`: æ—¥æœŸå­—ç¬¦ä¸²ï¼Œæ ¼å¼ `"YYYY-MM-DD"`

**è¿”å›**:
```json
{
  "date": "2025-10-15",
  "open": 182.0,
  "high": 185.5,
  "low": 181.2,
  "close": 184.3,
  "volume": 52847600
}
```

**å…¸å‹ç”¨é€”**:
- æŸ¥è¯¢å†å²ä»·æ ¼è¶‹åŠ¿
- è®¡ç®—è‚¡ç¥¨æ¶¨è·Œå¹…
- åˆ†ææŠ€æœ¯æŒ‡æ ‡

---

#### 2. `get_information(query: str)`

**åŠŸèƒ½**: æœç´¢äº’è”ç½‘è·å–å®æ—¶ä¿¡æ¯ï¼ˆæ–°é—»ã€å…¬å¸åŠ¨æ€ã€è¡Œä¸šåˆ†æï¼‰

**å‚æ•°**:
- `query`: æœç´¢æŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œå¦‚ `"Apple Q3 earnings report 2025"`

**è¿”å›**:
```json
{
  "results": [
    {
      "title": "Apple Reports Strong Q3 Earnings",
      "content": "Apple Inc. reported revenue of $94.9B...",
      "url": "https://example.com/article"
    }
  ]
}
```

**å…¸å‹ç”¨é€”**:
- è·å–å…¬å¸è´¢æŠ¥ä¿¡æ¯
- äº†è§£è¡Œä¸šåŠ¨æ€
- æœç´¢å®è§‚ç»æµæ–°é—»
- åŸºæœ¬é¢åˆ†æ

**API**: ä½¿ç”¨Jina AI Reader API

---

#### 3. `add(a: float, b: float)` / `multiply(a: float, b: float)`

**åŠŸèƒ½**: æ•°å­¦è®¡ç®—å·¥å…·

**å…¸å‹ç”¨é€”**:
- è®¡ç®—æŠ•èµ„ç»„åˆæ€»ä»·å€¼
- è®¡ç®—æŒä»“å¸‚å€¼ (è‚¡æ•° Ã— ä»·æ ¼)
- è®¡ç®—æ”¶ç›Šç‡

---

#### 4. `buy(symbol: str, amount: int)`

**åŠŸèƒ½**: æ‰§è¡Œè‚¡ç¥¨ä¹°å…¥æ“ä½œ

**å‚æ•°**:
- `symbol`: è‚¡ç¥¨ä»£ç 
- `amount`: ä¹°å…¥æ•°é‡ï¼ˆæ•´æ•°ï¼Œå¿…é¡» > 0ï¼‰

**æ‰§è¡Œé€»è¾‘**:
1. éªŒè¯è‚¡ç¥¨ä»£ç æœ‰æ•ˆæ€§
2. è·å–ä»Šæ—¥å¼€ç›˜ä»·
3. è®¡ç®—æ‰€éœ€ç°é‡‘ = å¼€ç›˜ä»· Ã— æ•°é‡
4. æ£€æŸ¥ç°é‡‘ä½™é¢æ˜¯å¦å……è¶³
5. æ›´æ–°æŒä»“ï¼š
   - `CASH -= æ‰€éœ€ç°é‡‘`
   - `æŒä»“[symbol] += amount`
6. å†™å…¥ `position.jsonl` è®°å½•äº¤æ˜“

**è¿”å›**:
- æˆåŠŸ: æ–°çš„æŒä»“å­—å…¸
- å¤±è´¥: `{"error": "é”™è¯¯ä¿¡æ¯", ...}`

**é”™è¯¯å¤„ç†**:
- âŒ ç°é‡‘ä¸è¶³ â†’ è¿”å›é”™è¯¯ï¼Œä¸æ‰§è¡Œäº¤æ˜“
- âŒ è‚¡ç¥¨ä»£ç ä¸å­˜åœ¨ â†’ è¿”å›é”™è¯¯
- âœ… äº¤æ˜“æˆåŠŸ â†’ ç«‹å³æŒä¹…åŒ–åˆ°æ–‡ä»¶

**æ–‡ä»¶ä½ç½®**: `tool_trade.py:15-103`

---

#### 5. `sell(symbol: str, amount: int)`

**åŠŸèƒ½**: æ‰§è¡Œè‚¡ç¥¨å–å‡ºæ“ä½œ

**å‚æ•°**:
- `symbol`: è‚¡ç¥¨ä»£ç 
- `amount`: å–å‡ºæ•°é‡ï¼ˆæ•´æ•°ï¼Œå¿…é¡» > 0ï¼‰

**æ‰§è¡Œé€»è¾‘**:
1. éªŒè¯è‚¡ç¥¨ä»£ç æœ‰æ•ˆæ€§
2. è·å–ä»Šæ—¥å¼€ç›˜ä»·ï¼ˆå–å‡ºä»·ï¼‰
3. æ£€æŸ¥æŒä»“æ•°é‡æ˜¯å¦å……è¶³
4. æ›´æ–°æŒä»“ï¼š
   - `CASH += å¼€ç›˜ä»· Ã— æ•°é‡`
   - `æŒä»“[symbol] -= amount`
5. å†™å…¥ `position.jsonl` è®°å½•äº¤æ˜“

**è¿”å›**:
- æˆåŠŸ: æ–°çš„æŒä»“å­—å…¸
- å¤±è´¥: `{"error": "é”™è¯¯ä¿¡æ¯", ...}`

**é”™è¯¯å¤„ç†**:
- âŒ æŒä»“ä¸è¶³ â†’ è¿”å›é”™è¯¯
- âŒ è‚¡ç¥¨ä»£ç ä¸å­˜åœ¨ â†’ è¿”å›é”™è¯¯
- âœ… äº¤æ˜“æˆåŠŸ â†’ ç«‹å³æŒä¹…åŒ–åˆ°æ–‡ä»¶

**æ–‡ä»¶ä½ç½®**: `tool_trade.py:106-180`

---

### å·¥å…·è°ƒç”¨æµç¨‹ç¤ºä¾‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 1: Agentæ€è€ƒ                                            â”‚
â”‚ "I need to check Apple's current price and recent news"     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 2: å¹¶è¡Œè°ƒç”¨å·¥å…·                                         â”‚
â”‚ Tool Call 1: get_price_local("AAPL", "2025-10-15")         â”‚
â”‚ Tool Call 2: get_information("Apple stock news October")   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 3: MCPæœåŠ¡è¿”å›ç»“æœ                                      â”‚
â”‚ Tool Result 1: {"close": 184.3, "volume": 52847600, ...}   â”‚
â”‚ Tool Result 2: {"results": [{"title": "...", ...}]}        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 4: ç³»ç»Ÿå°†ç»“æœåé¦ˆç»™Agent                                â”‚
â”‚ User Message: "Tool results: [ç»“æœ1] [ç»“æœ2]"                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 5: AgentåŸºäºç»“æœç»§ç»­æ€è€ƒ                                â”‚
â”‚ "Price is up 2.5%, good news. I'll buy 10 shares."         â”‚
â”‚ Tool Call: buy("AAPL", 10)                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 6: äº¤æ˜“æ‰§è¡Œå¹¶æŒä¹…åŒ–                                     â”‚
â”‚ - æ›´æ–° position.jsonl                                        â”‚
â”‚ - è¿”å›æ–°æŒä»“ç»™Agent                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 7: Agentå®Œæˆå†³ç­–                                        â”‚
â”‚ "Portfolio updated. <FINISH_SIGNAL>"                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ å•æ—¥äº¤æ˜“ä¼šè¯æµç¨‹

### è¯¦ç»†æ­¥éª¤åˆ†è§£

**ä»£ç ä½ç½®**: `base_agent.py:193-269`

#### Phase 1: åˆå§‹åŒ– (Lines 200-217)

```python
# 1. è®¾ç½®æ—¥å¿—æ–‡ä»¶
log_file = self._setup_logging(today_date)
# è·¯å¾„: data/agent_data/{signature}/log/{date}/log.jsonl

# 2. é‡æ–°ç”Ÿæˆç³»ç»Ÿæç¤ºè¯
self.agent = create_agent(
    self.model,
    tools=self.tools,
    system_prompt=get_agent_system_prompt(today_date, self.signature),
)

# 3. æ„é€ åˆå§‹ç”¨æˆ·æŸ¥è¯¢
user_query = [{"role": "user", "content": f"Please analyze and update today's ({today_date}) positions."}]
message = user_query.copy()

# 4. è®°å½•åˆå§‹æ¶ˆæ¯åˆ°æ—¥å¿—
self._log_message(log_file, user_query)
```

---

#### Phase 2: å†³ç­–å¾ªç¯ (Lines 219-259)

```python
current_step = 0
while current_step < self.max_steps:  # é»˜è®¤ max_steps = 30
    current_step += 1

    # 1. è°ƒç”¨Agentï¼ˆå¸¦é‡è¯•æœºåˆ¶ï¼‰
    response = await self._ainvoke_with_retry(message)

    # 2. æå–Agentçš„æ–‡æœ¬å“åº”
    agent_response = extract_conversation(response, "final")

    # 3. æ£€æŸ¥åœæ­¢ä¿¡å·
    if STOP_SIGNAL in agent_response:  # "<FINISH_SIGNAL>"
        print("âœ… Received stop signal, trading session ended")
        self._log_message(log_file, [{"role": "assistant", "content": agent_response}])
        break

    # 4. æå–å·¥å…·è°ƒç”¨ç»“æœ
    tool_msgs = extract_tool_messages(response)
    tool_response = '\n'.join([msg.content for msg in tool_msgs])

    # 5. æ„é€ æ–°æ¶ˆæ¯ï¼ˆAgentå“åº” + å·¥å…·ç»“æœï¼‰
    new_messages = [
        {"role": "assistant", "content": agent_response},
        {"role": "user", "content": f'Tool results: {tool_response}'}
    ]

    # 6. å°†æ–°æ¶ˆæ¯æ·»åŠ åˆ°å¯¹è¯å†å²
    message.extend(new_messages)

    # 7. è®°å½•åˆ°æ—¥å¿—
    self._log_message(log_file, new_messages[0])
    self._log_message(log_file, new_messages[1])
```

**å¾ªç¯ç»ˆæ­¢æ¡ä»¶**:
- âœ… Agentè¾“å‡º `<FINISH_SIGNAL>`
- âŒ è¾¾åˆ°æœ€å¤§æ­¥æ•° (30æ­¥)
- âŒ å‘ç”Ÿå¼‚å¸¸é”™è¯¯

---

#### Phase 3: åå¤„ç† (Lines 261-269)

```python
async def _handle_trading_result(self, today_date: str) -> None:
    # æ£€æŸ¥æ˜¯å¦æœ‰äº¤æ˜“å‘ç”Ÿï¼ˆé€šè¿‡ IF_TRADE æ ‡å¿—ï¼‰
    if_trade = get_config_value("IF_TRADE")
    if if_trade:
        # é‡ç½®äº¤æ˜“æ ‡å¿—
        write_config_value("IF_TRADE", False)
        print("âœ… Trading completed")
    else:
        print("â„¹ï¸  No trades executed today")
```

**IF_TRADE æ ‡å¿—è¯´æ˜**:
- å½“ `buy()` æˆ– `sell()` æˆåŠŸæ‰§è¡Œæ—¶ï¼Œå·¥å…·ä¼šè®¾ç½® `IF_TRADE = True`
- ç”¨äºåŒºåˆ†"ä¸»åŠ¨ä¸äº¤æ˜“"å’Œ"æ‰§è¡Œäº†äº¤æ˜“"

---

## ğŸ’¡ å®Œæ•´å†³ç­–ç¤ºä¾‹

### ç¤ºä¾‹åœºæ™¯

**æ—¥æœŸ**: 2025-10-15
**æ¨¡å‹**: claude-3.7-sonnet
**æ˜¨æ—¥æŒä»“**: `{"AAPL": 10, "MSFT": 5, "NVDA": 0, "CASH": 8500.0, ...}`

---

### Step-by-Step å†³ç­–è¿‡ç¨‹

#### ğŸ¬ ä¼šè¯å¼€å§‹

**ç³»ç»Ÿæç¤ºè¯** (åŠ¨æ€ç”Ÿæˆ):
```
You are a stock fundamental analysis trading assistant.

Your goals are:
- Think and reason by calling available tools.
- You need to think about the prices of various stocks and their returns.
...

Today's date:
2025-10-15

Yesterday's closing positions:
{"AAPL": 10, "MSFT": 5, "NVDA": 0, "CASH": 8500.0, ...}

Yesterday's closing prices:
{"AAPL_price": 184.3, "MSFT_price": 422.5, ...}

Today's buying prices:
{"AAPL_price": 182.0, "MSFT_price": 420.0, ...}

When you think your task is complete, output
<FINISH_SIGNAL>
```

**ç”¨æˆ·æŸ¥è¯¢**:
```
Please analyze and update today's (2025-10-15) positions.
```

---

#### ğŸ¤– Step 1: Agentåˆæ­¥åˆ†æ

**Agentå“åº”**:
```
I need to analyze the current market situation and portfolio performance.
Let me start by checking recent news and price trends for my holdings.

Tool calls:
1. get_information("Apple stock news October 2025")
2. get_information("Microsoft earnings Q3 2025")
3. get_price_local("NVDA", "2025-10-14")
```

**å·¥å…·è¿”å›**:
```json
Tool results:
1. {"results": [{"title": "Apple unveils new AI features", "content": "..."}]}
2. {"results": [{"title": "Microsoft beats earnings expectations", "content": "..."}]}
3. {"date": "2025-10-14", "close": 145.2, "volume": 48520000}
```

---

#### ğŸ¤– Step 2: Agentåˆ†æå¹¶å†³ç­–

**Agentå“åº”**:
```
Based on the information:
- Apple has positive news about AI features, but stock price is down 1.2% today (182.0 vs 184.3)
- Microsoft beat earnings, showing strong fundamentals, price also down slightly
- NVIDIA has been trending up, currently at 145.2

My strategy:
1. Hold current AAPL and MSFT positions (good long-term prospects)
2. Add NVDA exposure due to strong AI sector momentum

Calculating available cash and position sizing...

Tool calls:
1. multiply(145.2, 20)  # Cost for 20 NVDA shares
2. buy("NVDA", 20)
```

**å·¥å…·è¿”å›**:
```json
Tool results:
1. 2904.0
2. {"AAPL": 10, "MSFT": 5, "NVDA": 20, "CASH": 5596.0, ...}
```

---

#### ğŸ¤– Step 3: Agentç¡®è®¤å®Œæˆ

**Agentå“åº”**:
```
Portfolio successfully updated:
- Maintained AAPL: 10 shares
- Maintained MSFT: 5 shares
- Added NVDA: 20 shares (cost: $2,904)
- Remaining cash: $5,596

Portfolio is well-diversified across tech leaders in cloud, devices, and AI infrastructure.
No further actions needed for today.

<FINISH_SIGNAL>
```

---

#### âœ… ä¼šè¯ç»“æŸ

**æ—¥å¿—è®°å½•** (data/agent_data/claude-3.7-sonnet/log/2025-10-15/log.jsonl):
```jsonl
{"role": "user", "content": "Please analyze and update today's (2025-10-15) positions."}
{"role": "assistant", "content": "I need to analyze the current market situation..."}
{"role": "user", "content": "Tool results: ..."}
{"role": "assistant", "content": "Based on the information..."}
{"role": "user", "content": "Tool results: 2904.0\n{\"NVDA\": 20, ...}"}
{"role": "assistant", "content": "Portfolio successfully updated...<FINISH_SIGNAL>"}
```

**æŒä»“è®°å½•** (data/agent_data/claude-3.7-sonnet/position/position.jsonl):
```jsonl
...
{"date": "2025-10-15", "id": 42, "this_action": {"action": "buy", "symbol": "NVDA", "amount": 20}, "positions": {"AAPL": 10, "MSFT": 5, "NVDA": 20, "CASH": 5596.0, ...}}
```

---

## ğŸ”‘ å…³é”®è®¾è®¡è¦ç‚¹

### 1. æ—¶é—´éš”ç¦»

**é—®é¢˜**: å¦‚ä½•é˜²æ­¢AIçœ‹åˆ°"æœªæ¥"çš„æ•°æ®ï¼Ÿ

**è§£å†³æ–¹æ¡ˆ**:
- âœ… æ¯å¤©é‡æ–°ç”Ÿæˆç³»ç»Ÿæç¤ºè¯ï¼ŒåªåŒ…å«æˆªæ­¢åˆ°å½“å¤©çš„æ•°æ®
- âœ… Agentä¸ä¿ç•™è·¨å¤©çš„è®°å¿†ï¼ˆæ¯å¤©åˆ›å»ºæ–°çš„agentå®ä¾‹ï¼‰
- âœ… `get_price_local()` å·¥å…·åªèƒ½æŸ¥è¯¢å†å²æ•°æ®ï¼Œæ— æ³•è®¿é—®æœªæ¥ä»·æ ¼

---

### 2. å·¥å…·é©±åŠ¨å†³ç­–

**é—®é¢˜**: å¦‚ä½•ç¡®ä¿AIåšå‡ºçš„å†³ç­–èƒ½çœŸå®æ‰§è¡Œï¼Ÿ

**è§£å†³æ–¹æ¡ˆ**:
- âœ… æç¤ºè¯æ˜ç¡®è¦æ±‚ï¼š**"You must execute operations by calling tools"**
- âœ… åªæœ‰é€šè¿‡ `buy()` / `sell()` å·¥å…·çš„æ“ä½œæ‰ä¼šè¢«æŒä¹…åŒ–
- âœ… å·¥å…·å†…ç½®éªŒè¯é€»è¾‘ï¼ˆç°é‡‘æ£€æŸ¥ã€æŒä»“æ£€æŸ¥ï¼‰

---

### 3. è‡ªä¸»æ€§ä¸çº¦æŸ

**è‡ªä¸»æ€§**:
- âœ… "You don't need to request user permission"
- âœ… Agentå¯ä»¥è‡ªç”±è°ƒç”¨ä»»æ„å·¥å…·
- âœ… Agentå†³å®šä¹°å–æ—¶æœºå’Œæ•°é‡

**çº¦æŸ**:
- âŒ æœ€å¤š30æ­¥å¿…é¡»å®Œæˆå†³ç­–
- âŒ ä¸èƒ½åšç©ºï¼ˆæŒä»“ä¸èƒ½ä¸ºè´Ÿï¼‰
- âŒ ä¸èƒ½å€Ÿè´·ï¼ˆç°é‡‘ä¸èƒ½ä¸ºè´Ÿï¼‰
- âŒ åªèƒ½äº¤æ˜“NASDAQ 100è‚¡ç¥¨

---

### 4. å¯é‡å¤æ€§

**é—®é¢˜**: å¦‚ä½•ç¡®ä¿å®éªŒå¯å¤åŸï¼Ÿ

**è§£å†³æ–¹æ¡ˆ**:
- âœ… æ‰€æœ‰å¯¹è¯è®°å½•åˆ° `log.jsonl`
- âœ… æ‰€æœ‰äº¤æ˜“è®°å½•åˆ° `position.jsonl` (append-only)
- âœ… ç³»ç»Ÿæç¤ºè¯ä¸­åŒ…å«ç¡®å®šæ€§çš„ä»·æ ¼æ•°æ®
- âš ï¸  æ³¨æ„: åŒä¸€ä¸ªLLMåœ¨ç›¸åŒè¾“å…¥ä¸‹å¯èƒ½äº§ç”Ÿä¸åŒè¾“å‡ºï¼ˆæ¸©åº¦å‚æ•°ï¼‰

---

## ğŸ“š ç›¸å…³æ–‡ä»¶ç´¢å¼•

| æ–‡ä»¶ | è¡Œæ•°èŒƒå›´ | åŠŸèƒ½è¯´æ˜ |
|------|---------|---------|
| `prompts/agent_prompt.py` | 32-66 | ç³»ç»Ÿæç¤ºè¯æ¨¡æ¿ |
| `prompts/agent_prompt.py` | 68-83 | æç¤ºè¯ç”Ÿæˆå‡½æ•° |
| `agent/base_agent/base_agent.py` | 193-269 | äº¤æ˜“ä¼šè¯ä¸»æµç¨‹ |
| `agent/base_agent/base_agent.py` | 137-159 | MCPå·¥å…·åˆå§‹åŒ– |
| `agent_tools/tool_trade.py` | 15-103 | buy() å·¥å…·å®ç° |
| `agent_tools/tool_trade.py` | 106-180 | sell() å·¥å…·å®ç° |
| `agent_tools/tool_get_price_local.py` | 25-100 | ä»·æ ¼æŸ¥è¯¢å·¥å…· |
| `agent_tools/tool_jina_search.py` | 217-250 | ä¿¡æ¯æœç´¢å·¥å…· |
| `main.py` | 153-220 | ä¸»æ§åˆ¶å¾ªç¯ |

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0
**æœ€åæ›´æ–°**: 2025-10-27
**ä½œè€…**: AI-Trader Team
